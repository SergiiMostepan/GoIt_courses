{"version":3,"sources":["webpack:///./templates/message.hbs","webpack:///./js-components/app.js","webpack:///./js-components/localStorage.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","className","call","image","name","message","currentDate","myFile","map","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","refs","massege","document","querySelector","form","asyncMap","file","userNameForm","chatSection","registrationSection","changeDataButton","avatarImg","userName","uluru","defPhoto","pad","String","padStart","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","src","type","onload","google","maps","Map","getElementById","zoom","center","ws","WebSocket","onmessage","date","Date","getHours","getMinutes","getSeconds","cords","markup","messageTemplate","insertAdjacentHTML","Marker","scrollTop","scrollHeight","addEventListener","e","target","files","FR","FileReader","readAsDataURL","result","log","inputName","preventDefault","elements","alert","removeItem","local","localStorageLoader","saveToLocal","classList","add","toggle","inputField","send","window","body","children","registration"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAExJ,MAAO,sBACHD,SAASP,EAAyF,OAA/EA,EAASH,EAAQY,YAAwB,MAAVb,EAAiBA,EAAOa,UAAYb,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,YAAY,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC3R,qCACAO,SAASP,EAAiF,OAAvEA,EAASH,EAAQc,QAAoB,MAAVf,EAAiBA,EAAOe,MAAQf,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC/Q,2EACAO,SAASP,EAA+E,OAArEA,EAASH,EAAQe,OAAmB,MAAVhB,EAAiBA,EAAOgB,KAAOhB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC5Q,4FACAO,SAASP,EAAqF,OAA3EA,EAASH,EAAQgB,UAAsB,MAAVjB,EAAiBA,EAAOiB,QAAUjB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,UAAU,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACrR,mDACAO,SAASP,EAA6F,OAAnFA,EAASH,EAAQiB,cAA0B,MAAVlB,EAAiBA,EAAOkB,YAAclB,IAAmBI,EAASG,KAA2BG,EAASN,EAAOU,KAAKT,EAAO,CAAC,KAAO,cAAc,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACjS,mDACJ,SAAU,K,4GCARe,EACAC,EAEAP,E,qBCCW,GACbQ,KArBW,SAAAC,GACX,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAE7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,GACzD,MAAOM,GACPC,QAAQC,MAAM,oBAAqBF,KAgBrCG,KAXW,SAACV,EAAKW,GACjB,IACE,IAAMV,EAAkBI,KAAKO,UAAUD,GACvCT,aAAaW,QAAQb,EAAKC,GAC1B,MAAOM,GACPC,QAAQC,MAAM,oBAAqBF,MDbjCO,EAAO,CACXC,QAASC,SAASC,cAAc,SAChCC,KAAMF,SAASC,cAAc,cAC7BE,SAAUH,SAASC,cAAc,uBACjCG,KAAMJ,SAASC,cAAc,SAC7BI,aAAcL,SAASC,cAAc,iBACrCK,YAAaN,SAASC,cAAc,gBACpCM,oBAAqBP,SAASC,cAAc,iBAC5CO,iBAAkBR,SAASC,cAAc,eACzCQ,UAAWT,SAASC,cAAc,eAGhCS,EAAW,GAGXC,EAAQ,GAENC,EACJ,qyUA8BF,SAASC,EAAIlB,GACX,OAAOmB,OAAOnB,GAAOoB,SAAS,EAAG,KA5BnCC,UAAUC,YAAYC,oBAAmB,SAAAC,GACvCR,EAAMS,IAAMD,EAASE,OAAOC,SAC5BX,EAAMY,IAAMJ,EAASE,OAAOG,aAK5B1B,EAAKK,SAASsB,IACZ,sFACF3B,EAAKK,SAASuB,KAAO,kBACrB5B,EAAKK,SAASwB,OAAS,WACrB7C,EAAM,IAAI8C,OAAOC,KAAKC,IAAI9B,SAAS+B,eAAe,OAAQ,CACxDC,KAAM,GACNC,OAAQtB,KAmBd,IAAIuB,EAAK,IAAIC,UAAU,mCAGvBD,EAAGE,UAAY,YAAc,IAfvBC,EAeYxE,EAAW,EAAXA,KACZe,EAfIiC,GADJwB,EAAO,IAAIC,MACEC,YAGjB,IAFQ1B,EAAIwB,EAAKG,cAEjB,IADQ3B,EAAIwB,EAAKI,cAYU,EAEWpD,KAAKC,MAAMzB,GAA3C6E,EAFqB,EAErBA,MAAO/D,EAFc,EAEdA,QAASD,EAFK,EAELA,KAAMD,EAFD,EAECA,MAE1BF,EADEG,IAASgC,EACC,SAEA,mBAEAtB,IAAVX,IACFA,EAAQmC,GAEV,IAAI+B,EAASC,IAAgB,CAC3BjE,UACAD,OACAD,QACAG,cACAL,cAEFuB,EAAKC,QAAQ8C,mBAAmB,YAAaF,GAC9B,IAAIf,OAAOC,KAAKiB,OAAO,CACpC3B,SAAUuB,EACV5D,IAAKA,IAEPgB,EAAKC,QAAQgD,UAAYjD,EAAKC,QAAQiD,cAGxClD,EAAKM,KAAK6C,iBAAiB,UAAU,SAAAC,GACnC,IAAM9C,EAAO8C,EAAEC,OAAOC,MAAM,GACtBC,EAAK,IAAIC,WACfD,EAAGE,cAAcnD,GACjBiD,EAAGJ,iBAAiB,QAAQ,SAASC,GACnCrE,EAASqE,EAAEC,OAAOK,OAClB/C,UAAUgB,IAAM5C,EAChBW,QAAQiE,IAAI5E,SA2ChBiB,EAAKO,aAAa4C,iBAAiB,UAAU,SAAAC,GA1B7C,IAAiBQ,EA2BfR,EAAES,iBACuC,KAArCT,EAAEC,OAAOS,SAASlD,SAASf,MAC7BkE,MAAM,gBA7BOH,EA+BLR,EAAEC,OAAOS,SAASlD,SAASf,MA9BrCe,EAAWgD,OACItE,IAAXP,IACFA,EAAS+B,GAIb,WACE1B,aAAa4E,WAAW,SACxB,IAAIC,EAAQ,CACVrF,KAAMgC,EACNjC,MAAOI,GAETmF,EAAmBtE,KAAK,QAASqE,GAmB/BE,GAfFnE,EAAKQ,YAAY4D,UAAUC,IAAI,WAC/BrE,EAAKS,oBAAoB2D,UAAUC,IAAI,iBAmBzCrE,EAAKU,iBAAiByC,iBAAiB,SAAS,SAAAC,GAC9CA,EAAES,iBAhBF7D,EAAKS,oBAAoB2D,UAAUE,OAAO,aAC1CtE,EAAKQ,YAAY4D,UAAUE,OAAO,cAmBpCtE,EAAKI,KAAK+C,iBAAiB,UAAU,SAAAC,GAtDpB,IAAAvE,EAuDfuE,EAAES,iBAvDahF,EAwDNuE,EAAEC,OAAOS,SAASS,WAAW1E,MAvDtCuC,EAAGoC,KACDjF,KAAKO,UAAU,CACb8C,MAAO/B,EACPhC,QAASA,EACTD,KAAMgC,EACNjC,MAAOI,KAmDXqE,EAAEC,OAAOS,SAASS,WAAW1E,MAAQ,MAGvC4E,OAAOtB,iBAAiB,oBAAoB,SAAAC,GAAK,MACvBc,EAAmBjF,KAAK,SAAxCL,EADuC,EACvCA,KAAMD,EADiC,EACjCA,WACDW,IAATV,IACFwE,EAAEC,OAAOqB,KAAKC,SAASC,aAAaD,SAASpE,aAAauD,SAASlD,SAASf,MAAQjB,QAExEU,IAAVX,IACFgC,UAAUgB,IAAMhD,EAChBI,EAASJ,Q","file":"main.070d675cb05b9a5ea63b.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"message \"\n    + alias4(((helper = (helper = helpers.className || (depth0 != null ? depth0.className : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"className\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":19},\"end\":{\"line\":1,\"column\":32}}}) : helper)))\n    + \"\\\">\\r\\n    <img class=\\\"image\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.image || (depth0 != null ? depth0.image : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"image\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":28},\"end\":{\"line\":2,\"column\":37}}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"message-body\\\">\\r\\n        <span class=\\\"user-name\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":32},\"end\":{\"line\":4,\"column\":40}}}) : helper)))\n    + \"</span>\\r\\n        <div class=\\\"mesage-content\\\">\\r\\n            <div class=\\\"message-text\\\">\"\n    + alias4(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"message\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":38},\"end\":{\"line\":6,\"column\":49}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"message-time\\\">\"\n    + alias4(((helper = (helper = helpers.currentDate || (depth0 != null ? depth0.currentDate : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"currentDate\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":38},\"end\":{\"line\":7,\"column\":53}}}) : helper)))\n    + \"</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","import messageTemplate from '../templates/message.hbs';\r\nimport localStorageLoader from './localStorage.js';\r\n\r\nconst refs = {\r\n  massege: document.querySelector('#chat'),\r\n  form: document.querySelector('#inputForm'),\r\n  asyncMap: document.querySelector('[data-name=\"async\"]'),\r\n  file: document.querySelector('#file'),\r\n  userNameForm: document.querySelector('#userNameForm'),\r\n  chatSection: document.querySelector('.chatSection'),\r\n  registrationSection: document.querySelector('.registration'),\r\n  changeDataButton: document.querySelector('#changeData'),\r\n  avatarImg: document.querySelector('#avatarImg'),\r\n};\r\n\r\nlet userName = '';\r\nlet myFile;\r\nlet map;\r\nlet uluru = {};\r\nlet className;\r\nconst defPhoto =\r\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABBpAAAQaQEKWadmAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwBQTFRF////AQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACAQACl5/7/AAAAP90Uk5TAAECAwQF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';\r\n\r\n// получаем текущую геолокацию\r\nnavigator.geolocation.getCurrentPosition(position => {\r\n  uluru.lat = position.coords.latitude;\r\n  uluru.lng = position.coords.longitude;\r\n});\r\n\r\n// создаем карту\r\n(function googleMap() {\r\n  refs.asyncMap.src =\r\n    'https://maps.googleapis.com/maps/api/js?key=AIzaSyB7Zkwv8ZHein66BAALTpWsJAQorKjiTlw';\r\n  refs.asyncMap.type = 'text/javascript';\r\n  refs.asyncMap.onload = () => {\r\n    map = new google.maps.Map(document.getElementById('map'), {\r\n      zoom: 10,\r\n      center: uluru,\r\n    });\r\n  };\r\n})();\r\n\r\n// берем текущее время\r\nfunction getDate() {\r\n  let date = new Date();\r\n  let h = pad(date.getHours());\r\n  let m = pad(date.getMinutes());\r\n  let s = pad(date.getSeconds());\r\n  return `${h}:${m}:${s}`;\r\n}\r\n\r\nfunction pad(value) {\r\n  return String(value).padStart(2, '0');\r\n}\r\n\r\n// создаем соединение\r\nlet ws = new WebSocket('wss://venify.herokuapp.com/chat');\r\n\r\n// выводим инфу с сервака\r\nws.onmessage = ({ data }) => {\r\n  let currentDate = getDate();\r\n  let { cords, message, name, image } = JSON.parse(data);\r\n  if (name === userName) {\r\n    className = 'myUser';\r\n  } else {\r\n    className = 'anotherUser';\r\n  }\r\n  if (image === undefined) {\r\n    image = defPhoto;\r\n  }\r\n  let markup = messageTemplate({\r\n    message,\r\n    name,\r\n    image,\r\n    currentDate,\r\n    className,\r\n  });\r\n  refs.massege.insertAdjacentHTML('beforeend', markup);\r\n  const marker = new google.maps.Marker({\r\n    position: cords,\r\n    map: map,\r\n  });\r\n  refs.massege.scrollTop = refs.massege.scrollHeight;\r\n};\r\n\r\nrefs.file.addEventListener('change', e => {\r\n  const file = e.target.files[0];\r\n  const FR = new FileReader();\r\n  FR.readAsDataURL(file);\r\n  FR.addEventListener('load', function(e) {\r\n    myFile = e.target.result;\r\n    avatarImg.src = myFile;\r\n    console.log(myFile);\r\n  });\r\n});\r\n\r\n// отправляем данные на сервер\r\nconst sendData = message => {\r\n  ws.send(\r\n    JSON.stringify({\r\n      cords: uluru,\r\n      message: message,\r\n      name: userName,\r\n      image: myFile,\r\n    }),\r\n  );\r\n};\r\n\r\n// вводим имя\r\nfunction newName(inputName) {\r\n  userName = inputName;\r\n  if (myFile === undefined) {\r\n    myFile = defPhoto;\r\n  }\r\n}\r\n\r\nfunction saveToLocal() {\r\n  localStorage.removeItem('local');\r\n  let local = {\r\n    name: userName,\r\n    image: myFile,\r\n  };\r\n  localStorageLoader.save('local', local);\r\n}\r\n\r\nfunction visibleChat() {\r\n  refs.chatSection.classList.add('visible');\r\n  refs.registrationSection.classList.add('invisible');\r\n}\r\n\r\nfunction changeData() {\r\n  refs.registrationSection.classList.toggle('invisible');\r\n  refs.chatSection.classList.toggle('visible');\r\n}\r\n\r\nrefs.userNameForm.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  if (e.target.elements.userName.value === '') {\r\n    alert('Введите имя');\r\n  } else {\r\n    newName(e.target.elements.userName.value);\r\n    saveToLocal();\r\n    visibleChat();\r\n  }\r\n});\r\n\r\nrefs.changeDataButton.addEventListener('click', e => {\r\n  e.preventDefault();\r\n  changeData();\r\n});\r\n\r\nrefs.form.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  sendData(e.target.elements.inputField.value);\r\n  e.target.elements.inputField.value = '';\r\n});\r\n\r\nwindow.addEventListener('DOMContentLoaded', e => {\r\n  const { name, image } = localStorageLoader.load('local');\r\n  if (name !== undefined) {\r\n    e.target.body.children.registration.children.userNameForm.elements.userName.value = name;\r\n  }\r\n  if (image !== undefined) {\r\n    avatarImg.src = image;\r\n    myFile = image;\r\n  }\r\n  // console.dir(e.target.body.children.registration.children.userNameForm.elements)\r\n});\r\n","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\n// Принимает ключ `key` и значение `value`.\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default {\r\n  load,\r\n  save\r\n};\r\n"],"sourceRoot":""}
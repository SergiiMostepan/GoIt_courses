{"version":3,"sources":["webpack:///./templates/card.hbs","webpack:///./js_components/localStorage_js.js","webpack:///./js_components/main.js","webpack:///./templates/modalWindow.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","status","call","id","importance","title","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","cards","refs","ulList","document","querySelector","btn","render","innerHTML","markup","map","card","cardsTemplate","join","insertAdjacentHTML","actions","e","target","dataset","delete","parentNode","removeItem","filter","localStorageLoader","done","changeStatus","creatBoxesAddivent","form","preventDefault","inputs","elements","raz","i","length","checked","import","log","PNotify","alert","text","delay","inputValue","unshift","Date","now","createBoxes","instance","close","removeEventListener","basicLightbox","modalTemplete","modalWindow","show","addEventListener","window","upDateData","push"],"mappings":"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","file":"main.2b91f8f442cc647617fb.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"card_item status-\"\n    + alias4(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"status\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":28},\"end\":{\"line\":1,\"column\":38}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":49},\"end\":{\"line\":1,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"top priority-\"\n    + alias4(((helper = (helper = helpers.importance || (depth0 != null ? depth0.importance : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"importance\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":29},\"end\":{\"line\":2,\"column\":43}}}) : helper)))\n    + \"\\\">\\r\\n        <p class=\\\"importance\\\">\"\n    + alias4(((helper = (helper = helpers.importance || (depth0 != null ? depth0.importance : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"importance\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":30},\"end\":{\"line\":3,\"column\":44}}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n    <p class=\\\"card_text\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":25},\"end\":{\"line\":5,\"column\":34}}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"buttons\\\">\\r\\n        <button class=\\\"done\\\" type=\\\"submit\\\" data-done=\\\"done\\\">Done</button>\\r\\n        <button class=\\\"delete\\\" type=\\\"submit\\\" data-delete=\\\"delete\\\">Delete</button>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\n// Принимает ключ `key` и значение `value`.\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default { load, save };\r\n","import localStorageLoader from './localStorage_js.js';\r\nimport cardsTemplate from '../templates/card.hbs';\r\nimport modalTemplete from '../templates/modalWindow.hbs';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport PNotify from 'pnotify/dist/es/PNotify.js';\r\n\r\nlet cards = [];\r\n\r\nconst refs = {\r\n  ulList: document.querySelector('.todos'),\r\n  btn: document.querySelector('#new_form'),\r\n};\r\n\r\nfunction createBoxes(inputValue, importance) {\r\n  if (inputValue === '') inputValue = 'there is nothing';\r\n  cards.unshift({\r\n    title: inputValue,\r\n    status: false,\r\n    id: Date.now() + '',\r\n    importance,\r\n  });\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\nfunction render(cards) {\r\n  refs.ulList.innerHTML = '';\r\n  const markup = cards.map(card => cardsTemplate(card)).join('');\r\n  refs.ulList.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction renderLocalStr() {\r\n  const upDateData = localStorageLoader.load('cards');\r\n  cards.push(...upDateData);\r\n  render(cards);\r\n}\r\n\r\n// make done and delete buttons работает ультра плохо\r\n\r\nfunction actions(e) {\r\n  if (e.target.dataset.delete) {\r\n    cleanLocalStorage(e.target.parentNode.parentNode.dataset.id);\r\n  } else if (e.target.dataset.done) {\r\n    changeStatus(e.target.parentNode.parentNode.dataset.id);\r\n  }\r\n}\r\n\r\nfunction cleanLocalStorage(id) {\r\n  localStorage.removeItem('cards');\r\n  cards = cards.filter(card => card.id !== id);\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\nfunction changeStatus(id) {\r\n  cards.map(card => {\r\n    if (!card.status && card.id === id) card.status = true;\r\n  });\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\n// modal is open\r\n\r\nfunction creatBoxesAddivent(e) {\r\n  const form = document.querySelector('.form');\r\n  e.preventDefault();\r\n\r\n  const inputs = e.target.elements.raz;\r\n  let importance;\r\n  for (let i = 0; i < inputs.length; i++) {\r\n    if (inputs[i].checked) {\r\n      importance = inputs[i].dataset.import;\r\n    }\r\n  }\r\n  console.log(importance);\r\n  if (importance === undefined) {\r\n    PNotify.alert({\r\n      text: 'Please, choose priority',\r\n      delay: 1000,\r\n    });\r\n  } else {\r\n    createBoxes(e.target.elements[0].value, importance);\r\n    e.target.elements[0].value = '';\r\n    instance.close();\r\n    form.removeEventListener('submit', creatBoxesAddivent);\r\n  }\r\n}\r\n\r\nconst instance = basicLightbox.create(modalTemplete());\r\n\r\nfunction formModalListener() {\r\n  const form = document.querySelector('.form');\r\n  // const checkBoxes = document.querySelector('.radio_inputs');\r\n  // console.dir(checkBoxes);\r\n\r\n  // checkBoxes.addEventListener('change', e => console.log(e.target.dataset));\r\n  form.addEventListener('submit', creatBoxesAddivent);\r\n}\r\n\r\nfunction modalWindow() {\r\n  // const instance = basicLightbox.create(modalTemplete());\r\n  instance.show();\r\n  formModalListener();\r\n}\r\n\r\nrefs.ulList.addEventListener('click', e => actions(e));\r\n\r\nrefs.btn.addEventListener('click', e => modalWindow(e));\r\n\r\nwindow.addEventListener('DOMContentLoaded', renderLocalStr);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<form class=\\\"form\\\" action=\\\"\\\">\\r\\n    <div class=\\\"form_input\\\">\\r\\n        <input class=\\\"search form-styles\\\" type=\\\"search\\\" placeholder=\\\"enter new task...\\\" />\\r\\n        <button class=\\\"submit form-styles\\\" type=\\\"submit\\\">Add</button>\\r\\n    </div>\\r\\n    <div class=\\\"radio_inputs\\\">\\r\\n        <label><input type=\\\"radio\\\" name=\\\"raz\\\" data-import=\\\"high\\\" /> high</label>\\r\\n        <label><input type=\\\"radio\\\" name=\\\"raz\\\" data-import=\\\"middle\\\" /> middle</label>\\r\\n        <label><input type=\\\"radio\\\" name=\\\"raz\\\" data-import=\\\"low\\\" /> low</label>\\r\\n    </div>\\r\\n</form>\";\n},\"useData\":true});"],"sourceRoot":""}
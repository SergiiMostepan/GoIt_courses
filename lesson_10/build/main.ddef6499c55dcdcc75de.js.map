{"version":3,"sources":["webpack:///./templates/card.hbs","webpack:///./js_components/localStorage_js.js","webpack:///./js_components/main.js","webpack:///./templates/modalWindow.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","status","call","id","importance","title","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","cards","refs","ulList","document","querySelector","btn","render","innerHTML","markup","map","card","cardsTemplate","join","insertAdjacentHTML","actions","e","target","dataset","delete","parentNode","removeItem","filter","localStorageLoader","done","changeStatus","creatBoxesAddivent","form","preventDefault","inputs","elements","raz","i","length","checked","import","inputValue","unshift","Date","now","createBoxes","instance","close","removeEventListener","basicLightbox","modalTemplete","modalWindow","show","addEventListener","window","upDateData","push"],"mappings":"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","file":"main.ddef6499c55dcdcc75de.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"card_item status-\"\n    + alias4(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"status\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":28},\"end\":{\"line\":1,\"column\":38}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":49},\"end\":{\"line\":1,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n    <p class=\\\"importance\\\">\"\n    + alias4(((helper = (helper = helpers.importance || (depth0 != null ? depth0.importance : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"importance\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":26},\"end\":{\"line\":2,\"column\":40}}}) : helper)))\n    + \"</p>\\r\\n    <p class=\\\"card_text\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":25},\"end\":{\"line\":3,\"column\":34}}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"buttons\\\">\\r\\n        <button class=\\\"done\\\" type=\\\"submit\\\" data-done=\\\"done\\\">Done</button>\\r\\n        <button class=\\\"delete\\\" type=\\\"submit\\\" data-delete=\\\"delete\\\">Delete</button>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\n// Принимает ключ `key` и значение `value`.\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default { load, save };\r\n","import localStorageLoader from './localStorage_js.js';\r\nimport cardsTemplate from '../templates/card.hbs';\r\nimport modalTemplete from '../templates/modalWindow.hbs';\r\nimport * as basicLightbox from 'basiclightbox';\r\n\r\nlet cards = [];\r\n\r\nconst refs = {\r\n  ulList: document.querySelector('.todos'),\r\n  btn: document.querySelector('#new_form'),\r\n};\r\n\r\nfunction createBoxes(inputValue, importance) {\r\n  if (inputValue === '') inputValue = 'there is nothing';\r\n  cards.unshift({\r\n    title: inputValue,\r\n    status: false,\r\n    id: Date.now() + '',\r\n    importance,\r\n  });\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\nfunction render(cards) {\r\n  refs.ulList.innerHTML = '';\r\n  const markup = cards.map(card => cardsTemplate(card)).join('');\r\n  refs.ulList.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction renderLocalStr() {\r\n  const upDateData = localStorageLoader.load('cards');\r\n  cards.push(...upDateData);\r\n  render(cards);\r\n}\r\n\r\n// make done and delete buttons работает ультра плохо\r\n\r\nfunction actions(e) {\r\n  if (e.target.dataset.delete) {\r\n    cleanLocalStorage(e.target.parentNode.parentNode.dataset.id);\r\n  } else if (e.target.dataset.done) {\r\n    changeStatus(e.target.parentNode.parentNode.dataset.id);\r\n  }\r\n}\r\n\r\nfunction cleanLocalStorage(id) {\r\n  localStorage.removeItem('cards');\r\n  cards = cards.filter(card => card.id !== id);\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\nfunction changeStatus(id) {\r\n  cards.map(card => {\r\n    if (!card.status && card.id === id) card.status = true;\r\n  });\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\n// modal is open\r\n\r\nfunction creatBoxesAddivent(e) {\r\n  const form = document.querySelector('.form');\r\n  e.preventDefault();\r\n\r\n  const inputs = e.target.elements.raz;\r\n  let importance;\r\n  for (let i = 0; i < inputs.length; i++) {\r\n    if (inputs[i].checked) {\r\n      importance = inputs[i].dataset.import;\r\n    }\r\n  }\r\n\r\n  createBoxes(e.target.elements[0].value, importance);\r\n  e.target.elements[0].value = '';\r\n  instance.close();\r\n  form.removeEventListener('submit', creatBoxesAddivent);\r\n}\r\n\r\nconst instance = basicLightbox.create(modalTemplete());\r\n\r\nfunction formModalListener() {\r\n  const form = document.querySelector('.form');\r\n  // const checkBoxes = document.querySelector('.radio_inputs');\r\n  // console.dir(checkBoxes);\r\n\r\n  // checkBoxes.addEventListener('change', e => console.log(e.target.dataset));\r\n  form.addEventListener('submit', creatBoxesAddivent);\r\n}\r\n\r\nfunction modalWindow() {\r\n  // const instance = basicLightbox.create(modalTemplete());\r\n  instance.show();\r\n  formModalListener();\r\n}\r\n\r\nrefs.ulList.addEventListener('click', e => actions(e));\r\n\r\nrefs.btn.addEventListener('click', e => modalWindow(e));\r\n\r\n\r\nwindow.addEventListener('DOMContentLoaded', renderLocalStr)\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div>\\r\\n    <form class=\\\"form\\\" action=\\\"\\\">\\r\\n        <input class=\\\"search form-styles\\\" type=\\\"search\\\" placeholder=\\\"enter new task...\\\" />\\r\\n        <button class=\\\"submit form-styles\\\" type=\\\"submit\\\">Add</button>\\r\\n        <div class=\\\"radio_inputs\\\">\\r\\n            <label><input type=\\\"radio\\\" name=\\\"raz\\\" data-import=\\\"high\\\" />high</label>\\r\\n            <label><input type=\\\"radio\\\" name=\\\"raz\\\" data-import=\\\"moderate\\\" />moderate</label>\\r\\n            <label><input type=\\\"radio\\\" name=\\\"raz\\\" data-import=\\\"low\\\" />low</label>\\r\\n        </div>\\r\\n    </form>\\r\\n\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}
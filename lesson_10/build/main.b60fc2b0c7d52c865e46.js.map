{"version":3,"sources":["webpack:///./templates/card.hbs","webpack:///./js_components/main.js","webpack:///./js_components/localStorage_js.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","status","call","id","title","upDateData","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","cards","refs","ulList","document","querySelector","form","render","innerHTML","markup","map","card","cardsTemplate","join","insertAdjacentHTML","actions","e","target","dataset","delete","parentNode","removeItem","filter","localStorageLoader","done","changeStatus","push","addEventListener","inputValue","preventDefault","elements","Date","now"],"mappings":"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","file":"main.b60fc2b0c7d52c865e46.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"card_item status-\"\n    + alias4(((helper = (helper = helpers.status || (depth0 != null ? depth0.status : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"status\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":28},\"end\":{\"line\":1,\"column\":38}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":49},\"end\":{\"line\":1,\"column\":55}}}) : helper)))\n    + \"\\\">\\r\\n    <p class=\\\"card_text\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":25},\"end\":{\"line\":2,\"column\":34}}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"buttons\\\">\\r\\n        <button class=\\\"done\\\" type=\\\"submit\\\" data-done=\\\"done\\\">Done</button>\\r\\n        <button class=\\\"delete\\\" type=\\\"submit\\\" data-delete=\\\"delete\\\">Delete</button>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","import localStorageLoader from './localStorage_js.js';\r\nimport cardsTemplate from '../templates/card.hbs';\r\n\r\nlet cards = [];\r\n\r\nconst refs = {\r\n  ulList: document.querySelector('.todos'),\r\n  form: document.querySelector('.form'),\r\n};\r\n\r\nfunction createBoxes(inputValue) {\r\n  if (inputValue === '') inputValue = 'there is nothing';\r\n  cards.push({ title: inputValue, status: false, id: Date.now() + '' });\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\nfunction render(cards) {\r\n  refs.ulList.innerHTML = '';\r\n  const markup = cards.map(card => cardsTemplate(card)).join('');\r\n  refs.ulList.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction renderLocalStr() {\r\n  const upDateData = localStorageLoader.load('cards');\r\n  cards.push(...upDateData);\r\n  render(cards);\r\n}\r\nrenderLocalStr();\r\n\r\n// make done and delete buttons работает ультра плохо\r\n\r\nfunction actions(e) {\r\n  if (e.target.dataset.delete) {\r\n    cleanLocalStorage(e.target.parentNode.parentNode.dataset.id);\r\n  } else if (e.target.dataset.done) {\r\n    changeStatus(e.target.parentNode.parentNode.dataset.id);\r\n  }\r\n}\r\n\r\nfunction cleanLocalStorage(id) {\r\n  localStorage.removeItem('cards');\r\n  cards = cards.filter(card => card.id !== id);\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\nfunction changeStatus(id) {\r\n  cards.map(card => {\r\n    if (!card.status && card.id === id) card.status = true;\r\n  });\r\n  localStorageLoader.save('cards', cards);\r\n  render(cards);\r\n}\r\n\r\nrefs.form.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  createBoxes(e.target.elements[0].value);\r\n  e.target.elements[0].value = '';\r\n});\r\n\r\nrefs.ulList.addEventListener('click', e => actions(e));\r\n","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\n// Принимает ключ `key` и значение `value`.\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default { load, save };\r\n"],"sourceRoot":""}